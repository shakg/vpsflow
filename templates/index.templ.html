<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VPS Flow</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&display=swap"
    rel="stylesheet">
</head>
<style>
  body {
    font-family: "Bricolage Grotesque", sans-serif;
    font-optical-sizing: auto;
    font-weight: 400;
    font-style: normal;
    font-variation-settings: "wdth" 100;
  }
</style>

<body class="text-gray-800">
  <div class="flex min-h-screen">
    <!-- Sidebar -->
    <aside class="w-64 text-gray-600 p-4 border-r border-r-slate-200">
      <div class="flex flex-col justify-center items-start gap-8 my-8">
        <div class="max-w-12">
          <svg width="117" height="63" viewBox="0 0 117 63" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M116.208 3.28125C116.208 4.0625 115.895 4.71875 115.27 5.25C114.676 5.75 113.942 6 113.067 6H93.2388C92.8325 6 92.5044 6.07812 92.2544 6.23438C92.0044 6.39062 91.8169 6.5625 91.6919 6.75C91.5669 6.90625 91.5044 7.04688 91.5044 7.17188C91.5044 7.32812 91.5669 7.5 91.6919 7.6875C91.8169 7.84375 92.0044 8 92.2544 8.15625C92.5044 8.28125 92.8325 8.35938 93.2388 8.39062H108.567C110.536 8.42188 112.161 8.8125 113.442 9.5625C114.723 10.2812 115.629 11.1406 116.161 12.1406C116.723 13.1094 117.004 14.0938 117.004 15.0938C117.004 16.0625 116.723 17.0469 116.161 18.0469C115.598 19.0156 114.676 19.875 113.395 20.625C112.145 21.3438 110.536 21.7031 108.567 21.7031C108.223 21.7344 107.973 21.75 107.817 21.75H89.6294C88.7544 21.75 88.0044 21.5 87.3794 21C86.7856 20.4688 86.4888 19.8281 86.4888 19.0781C86.4888 18.2969 86.8013 17.6406 87.4263 17.1094C88.02 16.6094 88.7544 16.3594 89.6294 16.3594H108.942C109.411 16.3906 109.786 16.3281 110.067 16.1719C110.379 16.0156 110.614 15.8438 110.77 15.6562C110.926 15.4688 111.004 15.2812 111.004 15.0938C111.004 15 110.926 14.8438 110.77 14.625C110.614 14.375 110.379 14.1875 110.067 14.0625C109.786 13.9062 109.411 13.8125 108.942 13.7812H93.5669C91.7544 13.75 90.2544 13.375 89.0669 12.6562C87.8794 11.9062 87.0356 11.0469 86.5356 10.0781C86.0356 9.10938 85.7856 8.14062 85.7856 7.17188C85.7856 6.20312 86.0356 5.25 86.5356 4.3125C87.0669 3.34375 87.9106 2.51562 89.0669 1.82812C90.2544 1.10938 91.7544 0.71875 93.5669 0.65625C93.8794 0.625 94.1138 0.609375 94.27 0.609375H113.067C113.942 0.609375 114.676 0.875 115.27 1.40625C115.895 1.90625 116.208 2.53125 116.208 3.28125Z"
              fill="#111827" />
            <path
              d="M48.1506 25.9219C47.9631 27.7969 46.9319 28.8125 45.0569 28.9688C44.1819 28.9688 43.4163 28.6719 42.76 28.0781C42.135 27.5156 41.8225 26.7969 41.8225 25.9219V3.60938C41.8538 2.73438 42.1819 2.01562 42.8069 1.45312C43.4319 0.859375 44.1819 0.5625 45.0569 0.5625H64.7444C67.4944 0.65625 69.5725 1.3125 70.9788 2.53125C72.385 3.71875 73.4006 5.07812 74.0256 6.60938C74.6506 8.10938 74.9631 9.64062 74.9631 11.2031C74.9631 12.8281 74.6506 14.4062 74.0256 15.9375C73.4319 17.4375 72.4163 18.7969 70.9788 20.0156C69.5725 21.2031 67.7756 21.8125 65.5881 21.8438H53.7756C52.9006 21.8438 52.1663 21.5312 51.5725 20.9062C50.9475 20.3125 50.635 19.5781 50.635 18.7031C50.635 17.8281 50.9319 17.0938 51.5256 16.5C52.1506 15.875 52.9006 15.5625 53.7756 15.5625H65.7756C66.3694 15.5625 66.885 15.3281 67.3225 14.8594C67.76 14.3594 68.0725 13.7969 68.26 13.1719C68.4788 12.5156 68.5881 11.875 68.5881 11.25C68.5881 10.5938 68.4788 9.95312 68.26 9.32812C68.0725 8.67188 67.76 8.10938 67.3225 7.64062C66.885 7.14062 66.3694 6.875 65.7756 6.84375H49.3694C48.5569 6.875 48.1506 7.28125 48.1506 8.0625V25.9219Z"
              fill="#111827" />
            <path
              d="M9.29689 19.3594C7.70314 17.2031 6.10939 14.375 4.51564 10.875L1.46877 4.3125C1.31252 3.96875 1.21877 3.59375 1.18752 3.1875C1.12502 2.3125 1.39064 1.5625 1.98439 0.9375C2.57814 0.3125 3.35939 0 4.32814 0C5.39064 0 6.17189 0.21875 6.67189 0.65625C7.20314 1.0625 7.62502 1.59375 7.93752 2.25L10.1406 7.6875C10.7031 8.96875 11.25 10.1875 11.7813 11.3438C12.3438 12.4688 12.9688 13.5 13.6563 14.4375C14.375 15.375 15.1719 15.875 16.0469 15.9375C16.8906 15.875 17.6875 15.375 18.4375 14.4375C19.0938 13.5 19.6875 12.4688 20.2188 11.3438C20.7813 10.1875 21.3438 8.96875 21.9063 7.6875L24.1094 2.25C24.4219 1.59375 24.8281 1.0625 25.3281 0.65625C25.8594 0.21875 26.6563 0 27.7188 0C28.6875 0 29.4688 0.3125 30.0625 0.9375C30.6563 1.5625 30.9219 2.3125 30.8594 3.1875C30.8281 3.59375 30.7344 3.96875 30.5781 4.3125L27.5313 10.875C25.9375 14.375 24.3438 17.2031 22.75 19.3594C21.2188 21.4844 18.9844 22.5625 16.0469 22.5938C13.0781 22.5625 10.8281 21.4844 9.29689 19.3594Z"
              fill="#111827" />
            <path
              d="M92.7375 62.4531C91.675 62.4531 90.6125 62.2656 89.55 61.8906C88.5187 61.5156 87.5187 60.9688 86.55 60.25C85.5812 59.5 84.7375 58.5156 84.0187 57.2969C83.3 56.0781 82.9094 54.625 82.8469 52.9375V42.9531C82.8469 42.0781 83.1594 41.3594 83.7844 40.7969C84.4406 40.2031 85.2062 39.9062 86.0812 39.9062C87.9562 40.0625 88.9719 41.0781 89.1281 42.9531V52.5625C89.1594 53.3125 89.3156 53.9531 89.5969 54.4844C89.8781 54.9844 90.1906 55.3906 90.5344 55.7031C90.8781 55.9844 91.2219 56.2031 91.5656 56.3594C91.9406 56.4844 92.3156 56.5469 92.6906 56.5469C93.0656 56.5469 93.4406 56.4844 93.8156 56.3594C94.1906 56.2031 94.55 55.9844 94.8937 55.7031C95.2375 55.3906 95.55 54.9844 95.8312 54.4844C96.1125 53.9531 96.2531 53.3125 96.2531 52.5625V42.9531C96.2531 42.0781 96.5656 41.3594 97.1906 40.7969C97.8469 40.2031 98.6125 39.9062 99.4875 39.9062C101.362 40.0625 102.394 41.0781 102.581 42.9531V52.5625C102.612 53.3125 102.769 53.9375 103.05 54.4375C103.331 54.9688 103.644 55.3906 103.987 55.7031C104.331 55.9844 104.675 56.2031 105.019 56.3594C105.394 56.4844 105.769 56.5469 106.144 56.5469C106.519 56.5469 106.894 56.4844 107.269 56.3594C107.644 56.2031 108.003 55.9844 108.347 55.7031C108.691 55.3906 109.003 54.9844 109.284 54.4844C109.566 53.9531 109.706 53.3125 109.706 52.5625V42.9531C109.706 42.0781 110.019 41.3594 110.644 40.7969C111.3 40.2031 112.066 39.9062 112.941 39.9062C114.816 40.0625 115.847 41.0781 116.034 42.9531V52.9375C116.034 54.625 115.659 56.0781 114.909 57.2969C114.191 58.5156 113.347 59.5 112.378 60.25C111.441 60.9688 110.441 61.5156 109.378 61.8906C108.347 62.2656 107.284 62.4531 106.191 62.4531C105.128 62.4531 104.066 62.2656 103.003 61.8906C101.972 61.5156 100.972 60.9531 100.003 60.2031C99.8156 60.0781 99.6437 59.9375 99.4875 59.7812C99.3 59.9375 99.1281 60.0781 98.9719 60.2031C98.0031 60.9531 96.9875 61.5156 95.925 61.8906C94.8937 62.2656 93.8312 62.4531 92.7375 62.4531Z"
              fill="#111827" />
            <path
              d="M56.0906 61.8438C53.3406 61.75 51.2625 61.1094 49.8563 59.9219C48.45 58.7031 47.4344 57.3438 46.8094 55.8438C46.1844 54.3125 45.8719 52.7656 45.8719 51.2031C45.8719 49.5781 46.1688 48.0156 46.7625 46.5156C47.3875 44.9844 48.4031 43.625 49.8094 42.4375C51.2469 41.2188 53.0594 40.5938 55.2469 40.5625H70.4344C72.6219 40.5938 74.4188 41.2188 75.825 42.4375C77.2625 43.625 78.2781 44.9844 78.8719 46.5156C79.4969 48.0156 79.8094 49.5781 79.8094 51.2031C79.8094 52.7656 79.4969 54.3125 78.8719 55.8438C78.2469 57.3438 77.2313 58.7031 75.825 59.9219C74.4188 61.1094 72.3406 61.75 69.5906 61.8438H56.0906ZM55.0594 46.8438C54.4656 46.8438 53.95 47.0938 53.5125 47.5938C53.075 48.0625 52.7469 48.625 52.5281 49.2812C52.3406 49.9062 52.2469 50.5312 52.2469 51.1562C52.2469 51.8125 52.3406 52.4688 52.5281 53.125C52.7469 53.75 53.075 54.3125 53.5125 54.8125C53.95 55.2812 54.4656 55.5312 55.0594 55.5625H70.6219C71.2156 55.5312 71.7313 55.2812 72.1688 54.8125C72.6063 54.3125 72.9188 53.75 73.1063 53.125C73.325 52.4688 73.4344 51.8125 73.4344 51.1562C73.4344 50.5312 73.325 49.9062 73.1063 49.2812C72.9188 48.625 72.6063 48.0625 72.1688 47.5938C71.7313 47.0938 71.2156 46.8438 70.6219 46.8438H55.0594Z"
              fill="#111827" />
            <path
              d="M39.7406 33.4375C40.5844 33.4688 41.3031 33.7812 41.8969 34.375C42.4906 34.9375 42.8031 35.6406 42.8344 36.4844V59.4531C42.6469 61.3281 41.6156 62.3438 39.7406 62.5C38.8656 62.5 38.1 62.2188 37.4438 61.6562C36.8188 61.0625 36.5063 60.3281 36.5063 59.4531V36.4844C36.5375 35.6094 36.8656 34.8906 37.4906 34.3281C38.1156 33.7344 38.8656 33.4375 39.7406 33.4375Z"
              fill="#111827" />
            <path
              d="M11.625 62.4062C10.7812 62.375 10.0625 62.0781 9.46875 61.5156C8.875 60.9219 8.5625 60.2031 8.53125 59.3594V53.0312H3.14062C2.26562 53.0312 1.51562 52.7344 0.890625 52.1406C0.296875 51.5156 0 50.7656 0 49.8906C0 49.0156 0.3125 48.2812 0.9375 47.6875C1.53125 47.0625 2.26562 46.75 3.14062 46.75H8.53125C8.625 44.9062 8.9375 43.125 9.46875 41.4062C10.0938 39.4375 11.1094 37.7812 12.5156 36.4375C13.9531 35.0625 15.7656 34.3125 17.9531 34.1875H30.9844C31.8281 34.2188 32.5312 34.5312 33.0938 35.125C33.6875 35.6875 34 36.3906 34.0312 37.2344C34.0312 38.1094 33.7344 38.8594 33.1406 39.4844C32.5781 40.1094 31.8594 40.4375 30.9844 40.4688H19.5469C18.3594 40.5312 17.375 40.9844 16.5938 41.8281C15.8125 42.6719 15.3281 43.625 15.1406 44.6875C14.9844 45.375 14.8906 46.0625 14.8594 46.75H30.7969C31.6719 46.75 32.4062 47.0625 33 47.6875C33.625 48.2812 33.9375 49.0156 33.9375 49.8906C33.9375 50.7656 33.6406 51.5156 33.0469 52.1406C32.4219 52.7344 31.6719 53.0312 30.7969 53.0312H14.8594V59.3594C14.8281 60.2344 14.5 60.9688 13.875 61.5625C13.25 62.125 12.5 62.4062 11.625 62.4062Z"
              fill="#111827" />
          </svg>
        </div>

        <div class="text-xs text-gray-500">
          <p>Currently only <strong>linux - apt</strong> and <strong>macos - brew</strong> combo is supported.</p>
          <br>
          <p></p>For upcoming supports please visit <a class="text-blue-500 hover:text-blue-600"
            href="https://github.com/shakg/vpsflow">github.</a></p>
        </div>
      </div>
      <h2 class="text-md font-bold">Detected System Info</h2>
      <div class="font-medium text-xs flex flex-col gap-1 mt-4">
        <span><strong> OS </strong> - {{.OSInfo.OS}}</span>
        <span><strong> PM </strong> - {{.OSInfo.PackageManager}}</span>
      </div>
    </aside>

    <!-- Main content -->
    <!-- Main content -->
    <main class="flex-1 p-8 overflow-y-auto">
      <div class="mb-6">
        <div class="flex items-center space-x-4">
          <input type="text" placeholder="Search tools..." class="border rounded p-4 w-full" />
        </div>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        {{range .Tools}}
        <div class="p-6 gap-1 flex flex-col">
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-2">
              <h3 class="text-2xl font-black">{{.Name}}</h3>
            </div>
            <span class="border border-gray-100 text-sm py-1 px-2 rounded-lg">{{.Category}}</span>
          </div>
          <p class="text-sm text-gray-600 mb-4">{{.Description}}</p>
          <div class="flex flex-col gap-0">
            <p class="text-sm mb-2"><strong>Version :</strong> {{.SupportedVersion}}</p>
            <p class="text-sm mb-2"><strong>Last Update :</strong> {{.LastUpdate}}</p>
          </div>

          <button class="w-full py-2 px-4 bg-gray-700 text-white hover:bg-gray-800 rounded"
            onclick="startInstall('{{.Name}}')">Install</button>
          <div id="install-output-{{.Name}}" class="mt-4 p-4 bg-gray-100 rounded-lg hidden h-128 overflow-y-scroll overflow-x-hidden">
            <h4 class="font-bold">Installation Output:</h4>
            <pre id="output-{{.Name}}"></pre>
          </div>
        </div>
        {{end}}
      </div>
    </main>

    <script>
      function startInstall(packageName) {
        const outputDiv = document.getElementById(`install-output-${packageName}`);
        const outputPre = document.getElementById(`output-${packageName}`);

        // Show the output div
        outputDiv.classList.remove('hidden');

        // Open SSE connection
        const eventSource = new EventSource(`/install?package=${packageName}`);

        // Listen for events
        eventSource.onmessage = function (event) {
          const message = event.data;
          outputPre.textContent += message + "\n";
          outputPre.scrollTop = outputPre.scrollHeight; // Auto-scroll to the bottom
        };

        // Handle connection error
        eventSource.onerror = function () {
          outputPre.textContent += "ERROR: Failed to get installation status.\n";
          eventSource.close();
        };
      }
    </script>

  </div>
</body>

</html>